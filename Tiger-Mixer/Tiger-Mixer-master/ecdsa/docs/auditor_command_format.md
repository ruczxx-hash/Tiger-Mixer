# Auditor å‘½ä»¤æ ¼å¼è¯´æ˜

## âŒ é”™è¯¯çš„æ ¼å¼

```bash
./auditor 0x491e930303f08a8be1d0a042bd61767d06f06bbf29164efd900c1d03c3e44d6d 0x00250255a1fd94ccf33ff1da362e5059a621fdcb 0x00250255a1fd94ccf33ff1da362e5059a621fdcb,(0,3)(1,1)(2,2)...
```

**é—®é¢˜**ï¼šç¬¬ä¸‰ä¸ªå‚æ•°åŒ…å«æ‹¬å· `()`ï¼Œbashä¼šå°†å…¶è§£é‡Šä¸ºå‘½ä»¤æ›¿æ¢æˆ–å­shellï¼Œå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚

## âœ… æ­£ç¡®çš„æ ¼å¼

### æ–¹æ³•1ï¼šä½¿ç”¨å•å¼•å·ï¼ˆæ¨èï¼‰

```bash
./auditor '0x491e930303f08a8be1d0a042bd61767d06f06bbf29164efd900c1d03c3e44d6d' '0x00250255a1fd94ccf33ff1da362e5059a621fdcb' '0x00250255a1fd94ccf33ff1da362e5059a621fdcb,(0,3)(1,1)(2,2)(3,1)(4,2)(5,1)(6,1)(7,2)(8,1)(9,1)(10,2)(11,1)(12,2)(13,1)(14,1)(15,2)(16,1)(17,1)(18,1)(19,1)(20,2)(21,1)(22,2)(23,1)(24,1)(25,2)(26,1)(27,1)(28,1)(29,1)'
```

**ä¼˜ç‚¹**ï¼šå•å¼•å·å†…çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¼šè¢«æŒ‰å­—é¢æ„æ€å¤„ç†ï¼ŒåŒ…æ‹¬æ‹¬å·ã€é€—å·ç­‰ç‰¹æ®Šå­—ç¬¦ã€‚

### æ–¹æ³•2ï¼šä½¿ç”¨åŒå¼•å·

```bash
./auditor "0x491e930303f08a8be1d0a042bd61767d06f06bbf29164efd900c1d03c3e44d6d" "0x00250255a1fd94ccf33ff1da362e5059a621fdcb" "0x00250255a1fd94ccf33ff1da362e5059a621fdcb,(0,3)(1,1)(2,2)(3,1)(4,2)(5,1)(6,1)(7,2)(8,1)(9,1)(10,2)(11,1)(12,2)(13,1)(14,1)(15,2)(16,1)(17,1)(18,1)(19,1)(20,2)(21,1)(22,2)(23,1)(24,1)(25,2)(26,1)(27,1)(28,1)(29,1)"
```

**æ³¨æ„**ï¼šåŒå¼•å·å†…ä»ç„¶ä¼šè¿›è¡Œå˜é‡æ›¿æ¢ï¼Œä½†å¯¹äºè¿™ä¸ªåœºæ™¯ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚

## ğŸ“ å‚æ•°è¯´æ˜

1. **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼šäº¤æ˜“å“ˆå¸Œï¼ˆtx_hashï¼‰
   - æ ¼å¼ï¼š`0x` å¼€å¤´çš„64å­—ç¬¦åå…­è¿›åˆ¶å­—ç¬¦ä¸²

2. **ç¬¬äºŒä¸ªå‚æ•°**ï¼šå‘é€æ–¹åœ°å€ï¼ˆsender_addressï¼‰
   - æ ¼å¼ï¼š`0x` å¼€å¤´çš„40å­—ç¬¦åå…­è¿›åˆ¶å­—ç¬¦ä¸²

3. **ç¬¬ä¸‰ä¸ªå‚æ•°**ï¼špairs_summaryè¡Œï¼ˆpairs_summary_lineï¼‰
   - æ ¼å¼ï¼š`åœ°å€,(ç§’ç´¢å¼•,æ•°é‡)(ç§’ç´¢å¼•,æ•°é‡)...`
   - åŒ…å«æ‹¬å·å’Œé€—å·ï¼Œå¿…é¡»ç”¨å¼•å·åŒ…è£¹

## ğŸ” ä»ä»£ç ä¸­è‡ªåŠ¨è°ƒç”¨

åœ¨ `auditor_detection.c` ä¸­ï¼Œä»£ç å·²ç»æ­£ç¡®å¤„ç†äº†è¿™ä¸ªé—®é¢˜ï¼š

```c
// ä½¿ç”¨å•å¼•å·åŒ…è£¹æ‰€æœ‰å‚æ•°ï¼Œæ›´å®‰å…¨
snprintf(auditor_cmd, sizeof(auditor_cmd), 
        "/home/zxx/A2L/A2L-master/ecdsa/bin/auditor '%s' '%s' '%s' 2>&1", 
        current->tx_hash, current->address, escaped_pairs);
```

æ‰€ä»¥ä» `auditor_detection` ç¨‹åºè‡ªåŠ¨è°ƒç”¨æ—¶ä¸ä¼šæœ‰é—®é¢˜ã€‚

## ğŸ’¡ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
cd /home/zxx/A2L/A2L-master/ecdsa/bin

# ä½¿ç”¨å•å¼•å·ï¼ˆæ¨èï¼‰
./auditor \
  '0x491e930303f08a8be1d0a042bd61767d06f06bbf29164efd900c1d03c3e44d6d' \
  '0x00250255a1fd94ccf33ff1da362e5059a621fdcb' \
  '0x00250255a1fd94ccf33ff1da362e5059a621fdcb,(0,3)(1,1)(2,2)(3,1)(4,2)(5,1)(6,1)(7,2)(8,1)(9,1)(10,2)(11,1)(12,2)(13,1)(14,1)(15,2)(16,1)(17,1)(18,1)(19,1)(20,2)(21,1)(22,2)(23,1)(24,1)(25,2)(26,1)(27,1)(28,1)(29,1)'
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å•å¼•å· vs åŒå¼•å·**ï¼š
   - å•å¼•å·ï¼šå®Œå…¨æŒ‰å­—é¢æ„æ€å¤„ç†ï¼Œä¸è¿›è¡Œä»»ä½•æ›¿æ¢
   - åŒå¼•å·ï¼šä¼šè¿›è¡Œå˜é‡æ›¿æ¢ï¼ˆ`$VAR`ï¼‰ï¼Œä½†æ‹¬å·ç­‰ä»ä¼šè¢«ä¿æŠ¤

2. **å¦‚æœpairs_summary_lineä¸­åŒ…å«å•å¼•å·**ï¼š
   - ä»£ç ä¸­å·²ç»å¤„ç†äº†è¿™ç§æƒ…å†µï¼ˆåœ¨ `auditor_detection.c` ä¸­ï¼‰
   - æ‰‹åŠ¨è¿è¡Œæ—¶ï¼Œå¦‚æœåŒ…å«å•å¼•å·ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†

3. **ä»pairs_summary.csvå¤åˆ¶æ—¶**ï¼š
   - å¯ä»¥ç›´æ¥å¤åˆ¶æ•´è¡Œï¼Œç„¶åç”¨å•å¼•å·åŒ…è£¹å³å¯

